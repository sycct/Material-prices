{% extends "manage.html" %}

{% block content %}
    {{ super() }}
    <div class="row" xmlns="http://www.w3.org/1999/html">
        <div class="col-md-12">
            <div class="note note-success">
                <h3>增加材料类别</h3>
                <p>在此增加材料类别，在首页显示，此页面是管理员页面。 </p>
                <p class="text-warning">注意:上传图片尺寸为：16*16px</p>
            </div>
            <div class="container-fluid alter_clear">
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="alert alert-{{ category }}">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                {{ message }}
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}
            </div>
            <div class="portlet light bordered">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="icon-social-dribbble font-green"></i>
                        <span class="caption-subject font-green bold uppercase">Default textbox</span>
                    </div>
                    <div class="actions">
                        <a class="btn btn-circle btn-icon-only btn-default" href="javascript:;">
                            <i class="icon-cloud-upload"></i>
                        </a>
                        <a class="btn btn-circle btn-icon-only btn-default" data-toggle="modal" href="#responsive">
                            <i class="icon-wrench"></i>
                        </a>
                        <a class="btn btn-circle btn-icon-only btn-default" href="javascript:;">
                            <i class="icon-trash"></i>
                        </a>
                    </div>
                </div>
                <div class="portlet-body">
                    <form action="{{ url_for('manage.admin_add_classification') }}" method="post" role="form"
                          enctype="multipart/form-data"/>
                    {{ form.csrf_token }}
                    <div class="form-group">
                        {{ form.classification_name.label(class='control-label',for='default') }}
                        {{ form.classification_name(class='form-control',placeholder='Placeholder text',id='default') }}
                    </div>
                    <div class="form-group">
                        {{ form.classification_icon.label(class='control-label',for='default') }}
                        <div class="fileinput fileinput-new" data-provides="fileinput">
                            <div class="input-group">
                                <div class="form-control uneditable-input input-fixed" data-trigger="fileinput">
                                    <i class="fa fa-file fileinput-exists"></i>&nbsp;
                                    <span class="fileinput-filename"> </span>
                                </div>
                                <span class="input-group-addon btn default btn-file">
                                            <span class="fileinput-new"> Select file </span>
                                            <span class="fileinput-exists"> Change </span>
                                        {{ form.classification_icon() }}
                                    </span>
                                <a href="javascript:;" class="input-group-addon btn red fileinput-exists"
                                   data-dismiss="fileinput"> Remove </a>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        {{ form.submit(class='btn green') }}
                    </div>
                    </form>
                    <!-- begin modal -->
                    <div id="responsive" class="modal fade" tabindex="-1" data-width="760">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                            <h4 class="modal-title">修改材料类别</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="container-fluid">
                                    <table class="table table-striped table-hover table-bordered"
                                           id="sample_editable_1">
                                        <thead>
                                        <tr>
                                            <th> #</th>
                                            <th> 类别名称</th>
                                            <th> 类别小图</th>
                                            <th> 修 改</th>
                                            <th> 删 除</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for classification_list in classification_lists %}
                                            <tr>
                                                <td> {{ loop.index }} </td>
                                                <td> {{ classification_list.classification_name }} </td>
                                                <td><img
                                                        src="/static/uploads/{{ classification_list.classification_icon }}"
                                                        width="16px" height="16px"/></td>
                                                <td>
                                                    <a class="edit" href="javascript:;"> Edit </a>
                                                </td>
                                                <td>
                                                    <a class="delete" href="javascript:;"> Delete </a>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" data-dismiss="modal" class="btn btn-outline dark">Close</button>
                            <button type="button" class="btn green">Save changes</button>
                        </div>
                    </div>
                    <!-- end modal -->
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block page_level_scripts %}
    <script src="{{ url_for('static',filename='pages/scripts/dashboard.min.js') }}"></script>
    <script src="{{ url_for('static',filename='pages/scripts/page_level_script.js') }}"></script>
{% endblock %}

{% block page_level_styles_plugins %}
    <link href="{{ url_for('static',filename='global/plugins/bootstrap-daterangepicker/daterangepicker.min.css') }}"
          rel="stylesheet"/>
    <link href="{{ url_for('static',filename='global/plugins/morris/morris.css') }}" rel="stylesheet"/>
    <link href="{{ url_for('static',filename='global/plugins/bootstrap-fileinput/bootstrap-fileinput.css') }}"
          rel="stylesheet"/>
    <link href="{{ url_for('static',filename='global/plugins/bootstrap-modal/css/bootstrap-modal-bs3patch.css') }}"
          rel="stylesheet"/>
    <link href="{{ url_for('static',filename='global/plugins/bootstrap-modal/css/bootstrap-modal.css') }}"
          rel="stylesheet"/>
    <link href="{{ url_for('static',filename='global/plugins/datatables/datatables.min.css') }}" rel="stylesheet"/>
    <link href="{{ url_for('static',filename='global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css') }}"
          rel="stylesheet"/>
{% endblock %}

{% block page_level_scripts_plugins %}
    <script src="{{ url_for('static',filename='global/plugins/moment.min.js') }}"></script>
    <script src="{{ url_for('static',filename='global/plugins/bootstrap-daterangepicker/daterangepicker.min.js') }}"></script>
    <script src="{{ url_for('static',filename='global/plugins/morris/morris.min.js') }}"></script>
    <script src="{{ url_for('static',filename='global/plugins/bootstrap-fileinput/bootstrap-fileinput.js') }}"></script>
    <script src="{{ url_for('static',filename='global/plugins/bootstrap-modal/js/bootstrap-modalmanager.js') }}"></script>
    <script src="{{ url_for('static',filename='global/plugins/bootstrap-modal/js/bootstrap-modal.js') }}"></script>
    <script src="{{ url_for('static',filename='global/scripts/datatable.js') }}"></script>
    <script src="{{ url_for('static',filename='global/plugins/datatables/datatables.min.js') }}"></script>
    <script src="{{ url_for('static',filename='global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js') }}"></script>
{% endblock %}


{% block top_menu %}
    {{ super() }}
    {% include '_topMenu_block.html' %}
{% endblock %}